name: Generate Professional README

on:
  push:
    branches: [ "main", "master" ] # main ë˜ëŠ” master ë¸Œëœì¹˜ì— í‘¸ì‹œë  ë•Œ ì‹¤í–‰
  schedule:
    - cron: '0 0 * * *' # ë§¤ì¼ ìì •(UTC ê¸°ì¤€)ì— ìë™ ì‹¤í–‰ (ì„ íƒ ì‚¬í•­)
  workflow_dispatch: # ìˆ˜ë™ ì‹¤í–‰ ë²„íŠ¼ ì œê³µ

permissions:
  contents: write # ë¦¬í¬ì§€í† ë¦¬ íŒŒì¼ ì“°ê¸° ê¶Œí•œ í•„ìš”

jobs:
  generate-readme:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.x'

      - name: Generate README content dynamically
        run: |
          # Python ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ë¬¸ì ì¸ Markdown ì½˜í…ì¸  ìƒì„±
          # ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” í˜„ì¬ ë‚ ì§œë¥¼ ë™ì ìœ¼ë¡œ í¬í•¨í•˜ê³ , 
          # C++ ë° Docker ì „ë¬¸ ë¸”ë¡œê·¸ë¼ëŠ” ì •ì²´ì„±ì„ ê°•ì¡°í•˜ëŠ” ë‚´ìš©ì„ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.
          
          cat <<EOF > readme_generator.py
          import datetime

          # í˜„ì¬ ë‚ ì§œ ê°€ì ¸ì˜¤ê¸° (ë™ì  ìš”ì†Œ ì˜ˆì‹œ)
          current_date = datetime.datetime.now().strftime("%Y-%m-%d")

          # README ë§ˆí¬ë‹¤ìš´ ì½˜í…ì¸  ì •ì˜
          markdown_content = f"""
          # ğŸš€ Welcome to My Tech Stack Journey

          ### Aspiring Systems Architect | Passionate about C++ & Docker Technology

          Welcome to my technical blog repository! ğŸŒ±

          This space is dedicated to documenting my path towards becoming a world-class programmer, with a laser focus on high-performance systems and containerized infrastructure. Here I share insights, code snippets, and project updates reflecting my deep dive into the core technologies that power modern software.

          ---

          ## ğŸ› ï¸ Core Technical Focus

          My engineering philosophy revolves around building robust, efficient, and scalable solutions.

          <div align="center">
            <img src="https://img.shields.io/badge/Modern%20C%2B%2B-17%2F20-00599C?style=for-the-badge&logo=c%2B%2B&logoColor=white" alt="C++" />
            <img src="https://img.shields.io/badge/Docker-Containerization-2496ED?style=for-the-badge&logo=docker&logoColor=white" alt="Docker" />
            <img src="https://img.shields.io/badge/Linux-Systems-FCC624?style=for-the-badge&logo=linux&logoColor=black" alt="Linux" />
          </div>

          ---

          ## ğŸ¯ Blog Mission & Area of Expertise

          As an aspiring programmer committed to continuous learning, this repository serves as a living portfolio exploring advanced topics:

          ### ğŸ³ Docker & Containerization
          Going beyond basic usage to master container internals.
          - Efficient Dockerfile best practices & multi-stage builds.
          - Container orchestration concepts and networking.
          - Building reproducible Development Environments.

          ### âš¡ Modern C++ & Systems Programming
          Leveraging the power of C++ for performance-critical applications.
          - Modern C++ features (C++17/20 and beyond).
          - Memory management, concurrency, and optimization techniques.
          - Low-level system interactions and design patterns.

          ---
          <p align="center">
            <em>Last Updated via GitHub Actions: {current_date}</em>
          </p>
          """

          # README.md íŒŒì¼ ì“°ê¸°
          with open("README.md", "w", encoding="utf-8") as f:
              f.write(markdown_content)
          
          print("âœ… README.md has been successfully generated.")
          EOF
          
          # ìƒì„±í•œ íŒŒì´ì¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
          python readme_generator.py

      - name: Commit and Push changes
        run: |
          # Git ì„¤ì •
          git config --global user.name "github-actions[bot]"
          git config --global user.email "41898282+github-actions[bot]@users.noreply.github.com"
          
          # ë³€ê²½ ì‚¬í•­ í™•ì¸
          if git diff --quiet README.md; then
            echo "No changes to commit in README.md"
          else
            # ë³€ê²½ ì‚¬í•­ì´ ìˆì„ ê²½ìš° ì»¤ë°‹ ë° í‘¸ì‹œ
            git add README.md
            git commit -m "docs: update professional README.md via workflow [skip ci]"
            git push
            echo "ğŸ‰ README.md updated and pushed successfully."
          fi
